!function(i){var e=i("form.checkout"),t=i("body"),n="imoje-active",o=!1,l=!1;function a(e){return e.find(".imoje-channel .imoje-active").length?(i(".imoje-pbl-error").slideUp(250),!0):(i("html, body").animate({scrollTop:e.offset().top},500),i(".imoje-pbl-error").slideDown(250),!1)}window.addEventListener("message",function(e){e.data?.channel&&e.data.period&&(l=!0,i("#imoje-selected-channel").val("imoje_installments-"+e.data.channel),i("#imoje-installments-period").val(e.data.period))},!1),t.on("click",".imoje-channels li.imoje-channel label",function(){var e=i(this);i(".imoje-channels label").removeClass(n),e.parent().attr("class").includes("imoje_twisto")&&i(".imoje-twisto-regulations").show(),e.hasClass("imoje-c-active")&&e.addClass(n)}),t.on("click",".imoje-channels .imoje-channel",function(){i(this).attr("class").includes("imoje_twisto")||i(this).attr("class").includes("imoje-c-no-active")||i(".imoje-twisto-regulations").hide(),i(".pbl-error").slideUp(250)}),i("form#order_review").on("submit",function(e){var t=i(this).find('input[name="payment_method"]:checked').val(),n=!0;return(n=["imoje_pbl","imoje_blik","imoje_paylater"].includes(t)?a():n)||setTimeout(function(){i(e.target).unblock()},500),n}),e.on("checkout_place_order_imoje_pbl",function(){return a(i(".payment_method_imoje_pbl"))}),e.on("checkout_place_order_imoje_paylater",function(){return a(i(".payment_method_imoje_paylater"))}),e.on("checkout_place_order_imoje_blik",function(){if(i(".imoje-blik-code-container").length<1)return a(i(".payment_method_imoje_blik"));var e=i('input[name="imoje-blik-code"]');if(!(e.length<1)){if(6===e.val().length)return!0;alert(imoje_js_object.imoje_blik_tooltip)}return!1}),e.on("checkout_place_order_imoje_installments",function(){return o&&l}),i(document.body).on("updated_checkout",function(){null!==document.getElementById("payment_method_imoje_installments")&&!function e(){var t,n;o||(n=document.getElementById("imoje-installments__script"),t=i("#imoje-installments__wrapper"),null==n?((n=document.createElement("script")).id="imoje-installments__script",n.src=t.data("installmentsUrl"),n.onload=()=>{e()},document.body.append(n)):(n=t.data(),document.getElementById("imoje-installments__wrapper").imojeInstallments({amount:n.installmentsAmount,currency:n.installmentsCurrency,serviceId:n.installmentsServiceId,merchantId:n.installmentsMerchantId,signature:n.installmentsSignature}),o=!0))}()})}(jQuery);